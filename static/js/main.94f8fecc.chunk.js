(this["webpackJsonpconcrete-app"]=this["webpackJsonpconcrete-app"]||[]).push([[0],{174:function(e,t,n){},181:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(59),i=n.n(r),s=(n(173),n(174),n(52)),c=n(11),o=n(35),l=n(36),h=n(38),u=n(37),d=n(220),j=n(225),b=n(227),m=n(222),g=n(228),O=n(221),f=n(217),p=n(156),x=n(218),v=n(88),k=n(216),C=n(201),y=n(223),R={key:"off",text:"Off",value:"off"},S={key:"on",text:"On",value:"on"},F={label:"Machine Hire & Cartage",optOff:R,optOn:S,optList:[R,S],defaultPrice:200},w="Minimum Price",L="Minimum Price Offset",T=2500,H=n(2);var E=Object(H.jsxs)(a.Fragment,{children:["m",Object(H.jsx)("sup",{children:"2"})]}),P=Object(H.jsxs)(a.Fragment,{children:["m",Object(H.jsx)("sup",{children:"3"})]}),M=Object(H.jsxs)(a.Fragment,{children:["per ",E]}),A=Object(H.jsxs)(a.Fragment,{children:["per ",P]}),D=n(219),I=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleLimitChange=function(t,n){var a=n.value,r=parseFloat(a);isNaN(r)||e.props.onLimitChange(r)},e.handleRateChange=function(t,n){var a=n.value,r=parseFloat(a);isNaN(r)||e.props.onRateChange(r)},e.handleAdd=function(){e.props.onAdd()},e.handleRemove=function(){e.props.onRemove()},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t=Object(H.jsx)(C.a,{icon:"add",onClick:this.handleAdd}),n=Object(H.jsx)(C.a,{disabled:null==this.props.limit,icon:"minus",onClick:this.handleRemove});return this.props.limit?e=this.props.limit:this.props.prevLimit&&(e="More than ".concat(this.props.prevLimit)),Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.Cell,{children:Object(H.jsx)(k.a,{type:"number",disabled:null==this.props.limit,value:e,placeholder:"...",onChange:this.handleLimitChange})}),Object(H.jsx)(m.a.Cell,{children:Object(H.jsx)(k.a,{type:"number",label:"$",value:this.props.rate,placeholder:"...",onChange:this.handleRateChange})}),Object(H.jsx)(m.a.Cell,{children:Object(H.jsxs)(C.a.Group,{children:[Object(H.jsx)(D.a,{trigger:t,content:"Insert a new line above"}),Object(H.jsx)(D.a,{trigger:n,content:"Remove this line"})]})})]})}}]),n}(a.Component),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={rates:e.rates},a}return Object(l.a)(n,[{key:"setRates",value:function(e){this.setState({rates:e}),this.props.onChange(e)}},{key:"handleAddRow",value:function(e){var t,n,a=this.state.rates[e],r=this.state.rates[e-1],i=function(e){for(var t=function(e){return e.key===n},n=e.length;;){if(0===e.filter(t).length)return n;n++}}(this.state.rates);t=null===a.limit?r?2*r.limit:10:r?(a.limit+r.limit)/2:a.limit/2,t=Math.round(t),n=r?Math.round((a.rate+r.rate)/2):Math.round(1.5*a.rate);var s={key:i,limit:t,rate:n=Math.round(n)},c=this.state.rates.slice();c.splice(e,0,s),this.setRates(c)}},{key:"handleRemoveRow",value:function(e){var t=this.state.rates.slice();t.splice(e,1),this.setRates(t)}},{key:"handleLimitChange",value:function(e,t){var n=this.state.rates.slice(),a=Object(c.a)(Object(c.a)({},n[e]),{},{limit:t});n.splice(e,1);for(var r=n.length-1;r>0&&t<n[r-1].limit;)r--;n.splice(r,0,a),this.setRates(n)}},{key:"handleRateChange",value:function(e,t){var n=this.state.rates.slice(),a=Object(c.a)(Object(c.a)({},n[e]),{},{rate:t});n.splice(e,1,a),this.setRates(n)}},{key:"renderRow",value:function(e){var t=this,n=this.state.rates,a=e>0?n[e-1].limit:null;return Object(H.jsx)(I,{limit:n[e].limit,rate:n[e].rate,prevLimit:a,onAdd:function(){return t.handleAddRow(e)},onRemove:function(){return t.handleRemoveRow(e)},onLimitChange:function(n){return t.handleLimitChange(e,n)},onRateChange:function(n){return t.handleRateChange(e,n)}},n[e].key)}},{key:"render",value:function(){var e=this,t=this.state.rates.map((function(t,n){return e.renderRow(n)}));return Object(H.jsxs)(m.a,{children:[Object(H.jsx)(m.a.Header,{children:Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.HeaderCell,{children:this.props.name1}),Object(H.jsx)(m.a.HeaderCell,{children:this.props.name2}),Object(H.jsx)(m.a.HeaderCell,{children:"Actions"})]})}),Object(H.jsx)(m.a.Body,{children:t})]})}}]),n}(a.Component);n(181);var B=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleSecretChange=function(e){a.setState({secret:e})},a.handleNameChange=function(e,t){var n=t.name,r=t.value;a.updateConfiguration(Object(s.a)({},n,r))},a.handleExtraChange=function(e,t){var n=t.name,r=t.value;r=parseFloat(r),isNaN(r)&&(r=0),a.updateConfiguration(Object(s.a)({},n,r))},a.handleConcreteRateChange=function(e){a.updateConfiguration({concreteRates:e})},a.handleRockChange=function(e){a.updateConfiguration({rock:e})},a.state={configuration:e.configuration,secret:null},a}return Object(l.a)(n,[{key:"getConfiguration",value:function(){return this.state.configuration}},{key:"updateConfiguration",value:function(e){var t=Object(c.a)(Object(c.a)({},this.getConfiguration()),e);this.setState({configuration:t}),this.props.onConfigurationChanged(t)}},{key:"renderExtra",value:function(e,t,n){var r,i,s=this.getConfiguration()[e];"ea"===n?r=Object(H.jsx)(v.a,{children:"$"}):"m2"===n?(t=Object(H.jsxs)(a.Fragment,{children:[t," (",M,")"]}),r=Object(H.jsx)(v.a,{children:"$"})):"m3"===n?(t=Object(H.jsxs)(a.Fragment,{children:[t," (",A,")"]}),r=Object(H.jsx)(v.a,{children:"$"})):i=Object(H.jsx)(v.a,{children:"%"});var c=i?"right":"left";return Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.Cell,{children:t}),Object(H.jsx)(m.a.Cell,{children:Object(H.jsxs)(k.a,{name:e,type:"number",labelPosition:c,value:s,onChange:this.handleExtraChange,children:[r,Object(H.jsx)("input",{}),i]})})]})}},{key:"renderExtras",value:function(){return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(b.a,{as:"h4",children:"Extras"}),Object(H.jsxs)(m.a,{style:{marginBottom:"1rem"},children:[Object(H.jsx)(m.a.Header,{children:Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.HeaderCell,{children:"Name"}),Object(H.jsx)(m.a.HeaderCell,{children:"Amount"})]})}),Object(H.jsxs)(m.a.Body,{children:[this.renderExtra("slabThickness125","Slab Thickness 125mm","m2"),this.renderExtra("meshThicknessSL82","Mesh Thickness SL82","m2"),this.renderExtra("polyMembraneOn","Poly Membrane","m2"),this.renderExtra("machineHireOn",F.label,"ea"),this.renderExtra("pumpOn","Pump","ea"),this.renderExtra("pumpDouble","Pump (Double)","ea"),this.renderExtra("taxRate","Tax Rate","pct"),this.renderExtra("minPrice",w,"ea")]})]})]})}},{key:"render",value:function(){var e=this.getConfiguration();return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(b.a,{as:"h4",children:"Configuration Name"}),Object(H.jsx)(k.a,{name:"name",type:"text",placeholder:"Configuration Name",value:e.name,onChange:this.handleNameChange}),Object(H.jsx)("div",{className:"fix-grid-margins",style:{marginTop:"1rem"},children:Object(H.jsxs)(g.a,{columns:"2",stackable:!0,children:[Object(H.jsxs)(g.a.Column,{children:[Object(H.jsx)(b.a,{as:"h4",children:"Concrete Rates"}),Object(H.jsx)(N,{name1:"Concrete",name2:Object(H.jsxs)(a.Fragment,{children:["Rate per m",Object(H.jsx)("sup",{children:"2"})]}),rates:e.concreteRates,onChange:this.handleConcreteRateChange}),Object(H.jsx)(b.a,{as:"h4",children:"Rock Rates"}),Object(H.jsx)(N,{name1:"Rock",name2:Object(H.jsxs)(a.Fragment,{children:["Rate per ",A]}),rates:e.rock,onChange:this.handleRockChange})]}),Object(H.jsx)(g.a.Column,{children:this.renderExtras()})]})})]})}}]),n}(a.Component),U=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).open=function(){var e=a.getDefaultState();a.setState(Object(c.a)(Object(c.a)({},e),{},{open:!0}))},a.close=function(){a.setState({open:!1})},a.handleConfigurationChange=function(e){a.setState({configuration:e})},a.submit=function(){a.props.onSubmit(a.state.configuration),a.close()},a.state=a.getDefaultState(),a.isEditMode="edit"===e.mode,a.isCreateMode="create"===e.mode,a}return Object(l.a)(n,[{key:"getDefaultState",value:function(){return{open:!1,configuration:this.props.configuration,secret:this.props.secret}}},{key:"render",value:function(){var e=this.isEditMode?"Edit Configuration":"New Configuration",t=Object(H.jsx)(C.a,{children:e}),n=this.isEditMode?"Save Changes":"Create";return Object(H.jsxs)(y.a,{open:this.state.open,onOpen:this.open,onClose:this.close,trigger:t,size:"fullscreen",children:[Object(H.jsx)(y.a.Header,{children:e}),Object(H.jsx)(y.a.Content,{children:Object(H.jsx)(B,{configuration:this.state.configuration,onConfigurationChanged:this.handleConfigurationChange})}),Object(H.jsxs)(y.a.Actions,{children:[Object(H.jsx)(C.a,{primary:!0,onClick:this.submit,children:n}),Object(H.jsx)(C.a,{onClick:this.close,children:"Cancel"})]})]})}}]),n}(a.Component),W=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).open=function(){var e=a.getDefaultState(!0);a.setState(Object(c.a)({},e))},a.close=function(){a.setState({open:!1})},a.handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(s.a)({},n,r))},a.handleLoad=function(){a.setState({searching:!0,configuration:null});var e=null;try{e=a.props.decode(a.state.id)}catch(t){a.setState({error:t.toString()})}a.setState({searching:!1,configuration:e})},a.handleSubmit=function(){a.props.onSubmit(a.state.configuration),a.close()},a.state=a.getDefaultState(!1),a}return Object(l.a)(n,[{key:"getDefaultState",value:function(e){return{open:e,id:null,configuration:null,searching:!1,error:null}}},{key:"renderLoading",value:function(){return this.state.searching?Object(H.jsx)("p",{children:"Searching..."}):null}},{key:"renderError",value:function(){return null===this.state.error?null:Object(H.jsxs)("p",{children:["Error: ",Object(H.jsx)("b",{children:this.state.error})]})}},{key:"renderLoaded",value:function(){return null===this.state.configuration?null:Object(H.jsxs)("p",{children:["Configuration Loaded: ",Object(H.jsx)("b",{children:this.state.configuration.name})]})}},{key:"render",value:function(){var e=Object(H.jsx)(C.a,{children:"Load Configuration"}),t=null===this.state.configuration;return Object(H.jsxs)(y.a,{open:this.state.open,onOpen:this.open,onClose:this.close,trigger:e,children:[Object(H.jsx)(y.a.Header,{children:"Load Configuration"}),Object(H.jsx)(y.a.Content,{children:Object(H.jsxs)(d.a,{children:[Object(H.jsxs)(d.a.Field,{children:[Object(H.jsx)("label",{children:"Share URL"}),Object(H.jsx)(k.a,{name:"id",type:"text",placeholder:"Enter Share URL",onChange:this.handleChange})]}),Object(H.jsx)(C.a,{onClick:this.handleLoad,children:"Search"}),this.renderLoading(),this.renderError(),this.renderLoaded()]})}),Object(H.jsxs)(y.a.Actions,{children:[Object(H.jsx)(C.a,{primary:!0,onClick:this.handleSubmit,disabled:t,children:"Load"}),Object(H.jsx)(C.a,{onClick:this.close,children:"Cancel"})]})]})}}]),n}(a.Component),$=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).open=function(){a.setState({open:!0})},a.close=function(){a.setState({open:!1})},a.state={open:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(H.jsxs)(y.a,{open:this.state.open,onOpen:this.open,onClose:this.close,trigger:Object(H.jsx)(C.a,{disabled:this.props.disabled,children:"Share Configuration"}),children:[Object(H.jsx)(y.a.Header,{children:"Share Configuration"}),Object(H.jsxs)(y.a.Content,{children:[Object(H.jsx)("p",{children:"You can share this configuration via:"}),Object(H.jsx)("p",{children:Object(H.jsx)("a",{style:{overflowWrap:"break-word"},href:this.props.shareUrl,children:this.props.shareUrl})})]}),Object(H.jsx)(y.a.Actions,{children:Object(H.jsx)(C.a,{onClick:this.close,children:"OK"})})]})}}]),n}(a.Component),G=n(157),J=n(133),z=n.n(J),V=n(134),q=n.n(V),Y=["rockForce"],_={isDefault:"e",name:"n",concreteRates:"c",key:"k",limit:"l",rate:"r",slabThickness125:"s",meshThicknessSL82:"m",pumpOn:"p",pumpDouble:"d",polyMembraneOn:"b",machineHireOn:"h",rock:"o",taxRate:"t",minPrice:"i"},K=function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];if(t[a])throw new Error("duplicate value found for ".concat(t[a]," and ").concat(n));t[a]=n})),t}(_);function Q(e,t){var n={};return Object.keys(e).forEach((function(a){var r=e[a],i=t[a]||a,s=r;r instanceof Array?s=r.map((function(e){return Q(e,t)})):r instanceof Object&&(s=Q(r,t)),n[i]=s})),n}function X(e){var t=e.indexOf("?cfg=");if(-1!==t){var n=t+"?cfg=".length;e=e.substring(n)}var a=decodeURIComponent(e),r=z.a.toBuffer(a);return ne(Q(q.a.decode(r),K))}function Z(e){return window.location.protocol+"//"+window.location.host+"/"+window.location.pathname.split("/")[1]+"?cfg="+function(e){var t=Q(e,_),n=q.a.encode(t),a=z.a.encode(n);return encodeURIComponent(a)}(e)}var ee="appState";function te(){return void 0!==window.localStorage}function ne(e){if("number"===typeof e.rock){console.log("migrateConfiguration: rock rates system");var t=e.rock;e=Object(c.a)(Object(c.a)({},e),{},{rock:[{key:0,limit:null,rate:t}]})}return void 0===e.machineHireOn&&(e=Object(c.a)(Object(c.a)({},e),{},{machineHireOn:F.defaultPrice})),void 0===e.minPrice&&(e=Object(c.a)(Object(c.a)({},e),{},{minPrice:T})),e}var ae=n.p+"static/media/logo.2d27ead7.svg",re=n(229),ie=n(224);var se=function(e){return Object(H.jsx)(re.a,{inverted:!0,vertical:!0,style:{margin:"2em 0em 0em",padding:"2em 0em"},children:Object(H.jsxs)(f.a,{children:[Object(H.jsx)(b.a,{inverted:!0,as:"h4",content:"Help"}),Object(H.jsxs)(ie.a,{link:!0,inverted:!0,children:[Object(H.jsx)(ie.a.Item,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/talanc/concrete-app/blob/master/docs/sharing-configurations.md",children:"Sharing Configurations"}),Object(H.jsx)(ie.a.Item,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/talanc/concrete-app",children:"Source"})]})]})})},ce=(n(199),{key:"125",text:"125mm",value:125}),oe=[{key:"100",text:"100mm",value:100},ce],le={key:"SL82",text:"SL82",value:"SL82"},he=[{key:"SL72",text:"SL72",value:"SL72"},le],ue={key:"on",text:"On",value:"on"},de={key:"double",text:"Double",value:"double"},je=[{key:"off",text:"Off",value:"off"},ue,de],be={key:"on",text:"On",value:"on"},me=[{key:"off",text:"Off",value:"off"},be];function ge(e,t){return e*t}function Oe(e){return"$"+e.toFixed(2)}function fe(e){return e.force?Object(H.jsx)(d.a.Group,{children:Object(H.jsxs)(j.a,{info:!0,compact:!0,size:"small",style:{padding:"0.5em 1em",marginTop:"0.25em",marginBottom:"1em"},children:[Object(H.jsxs)("b",{children:[e.force.title,":"]})," ",e.force.message]})}):null}var pe=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).handleConfigurationChange=function(e){e=Object(c.a)(Object(c.a)({},e),{},{isDefault:!1}),a.setState({configuration:e}),a.saveAppState()},a.handleInputChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(s.a)({},n,r)),a.setState((function(e){return a.getStateForces(e)})),a.saveAppState()},a.state={configuration:{id:null,isDefault:!0,name:"Default",concreteRates:[{key:0,limit:10,rate:20},{key:1,limit:20,rate:18},{key:2,limit:40,rate:15},{key:3,limit:60,rate:10},{key:4,limit:120,rate:8},{key:5,limit:null,rate:5}],slabThickness125:1,meshThicknessSL82:2,pumpOn:25,pumpDouble:50,polyMembraneOn:2,machineHireOn:F.defaultPrice,rock:[{key:0,limit:100,rate:10},{key:1,limit:null,rate:5}],taxRate:10,minPrice:T},width:6,length:9,slabThickness:oe[0].value,meshThickness:he[0].value,meshThicknessForce:null,pump:je[0].value,pumpForce:null,polyMembrane:me[0].value,machineHire:F.optList[0].value,rock:0,rockForce:null,editConfiguration:!1};var r=function(){if(!te())return null;var e=localStorage.getItem(ee);if(null!==e)try{var t=JSON.parse(e);return t.configuration=ne(t.configuration),void 0===t.machineHire&&(t.machineHire=F.optList[0].value),t}catch(n){console.log("could not load stored configuration, see below"),console.warn(n)}return null}();if(null!==r&&(a.state=r),-1!==window.location.href.indexOf("?cfg="))try{a.state.configuration=X(window.location.href)}catch(i){console.log("could not load from url bar, see details below"),console.error(i)}return a.state=Object(c.a)(Object(c.a)({},a.state),a.getStateForces(a.state)),a}return Object(l.a)(n,[{key:"saveAppState",value:function(){this.setState((function(e){!function(e){if(te()){e.rockForce;var t=Object(G.a)(e,Y),n=JSON.stringify(t);localStorage.setItem(ee,n)}}(e)}))}},{key:"getStateForces",value:function(e){var t,n,r=ge(e.width,e.length);e.width>12&&e.length?t="Width > 12m, Length > 12m":e.width>12?t="Width > 12m":e.length>12&&(t="Length > 12m"),t&&(n={value:le.value,title:"Forced to SL82",message:Object(H.jsx)(a.Fragment,{children:t})});var i,s,c,o,l=null;return r>350?l={value:de.value,title:"Forced to Double",message:Object(H.jsxs)(a.Fragment,{children:["Area > 350m",Object(H.jsx)("sup",{children:"2"})]})}:r>125&&(l={value:ue.value,title:"Forced to On",message:Object(H.jsxs)(a.Fragment,{children:["Area > 350m",Object(H.jsx)("sup",{children:"2"})]})}),r>250?(i=30,s=250):r>150?(i=20,s=150):r>100&&(i=10,s=100),i&&(c={value:i,title:"Forced Rock",message:Object(H.jsxs)(a.Fragment,{children:["Area > ",(o=s,Object(H.jsxs)(a.Fragment,{children:[o,"m",Object(H.jsx)("sup",{children:"2"})]}))]})}),{meshThicknessForce:n,pumpForce:l,rockForce:c}}},{key:"getConfiguration",value:function(){return this.state.configuration}},{key:"findRate",value:function(e,t){var n=t.find((function(t){return e<t.limit}));return null==n&&(n=t[t.length-1]),n}},{key:"getCurrentRate",value:function(){var e=this.getArea(),t=this.getConfiguration();return this.findRate(e,t.concreteRates)}},{key:"getRockRate",value:function(){var e=this.getConfiguration();return this.findRate(this.getRock(),e.rock)}},{key:"getMeshThickness",value:function(){return this.state.meshThicknessForce?this.state.meshThicknessForce.value:this.state.meshThickness}},{key:"getPump",value:function(){return this.state.pumpForce?this.state.pumpForce.value:this.state.pump}},{key:"getRock",value:function(){return this.state.rockForce?this.state.rockForce.value:this.state.rock}},{key:"getArea",value:function(){return ge(this.state.width,this.state.length)}},{key:"getVolume",value:function(){return this.getArea()*(this.state.slabThickness/1e3)}},{key:"getTotal",value:function(){var e=this.getConfiguration(),t=e.taxRate/100,n=[],a=0;function r(e,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i&&(r+=r*t),n.push({item:e,cost:r}),a+=r}var i=this.getArea();r("Base Slab",i*this.getCurrentRate().rate),this.state.slabThickness===ce.value&&r("125mm Upgrade",i*e.slabThickness125),this.getMeshThickness()===le.value&&r("SL82 Upgrade",i*e.meshThicknessSL82),this.state.polyMembrane===be.value&&r("Poly Membrane",i*e.polyMembraneOn);var s=this.getPump();s===ue.value&&r("Pump",e.pumpOn),s===de.value&&r("Pump (Double)",e.pumpDouble),this.state.machineHire===F.optOn.value&&r(F.label,e.machineHireOn);var c=this.getRock();c>0&&r("Rock",c*this.getRockRate().rate);var o=!1,l=e.minPrice-a;return l>0&&(o=!0,r(L,l,!1)),{items:n,total:a,hasminPrice:o}}},{key:"renderField",value:function(e,t,n,r){return r&&(t=r.value),Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(d.a.Input,{name:e,required:!0,type:"number",value:t,label:n,onChange:this.handleInputChange}),Object(H.jsx)(fe,{force:r})]})}},{key:"renderSelect",value:function(e,t,n,r,i){return i&&(t=i.value),Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(d.a.Select,{name:e,label:n,options:r,value:t,fluid:!0,onChange:this.handleInputChange}),Object(H.jsx)(fe,{force:i})]})}},{key:"renderRadios",value:function(e,t,n,r,i){var s=this;i&&(t=i.value);var c=r.map((function(n){return Object(H.jsx)(d.a.Radio,{name:e,label:n.text,value:n.value,checked:t===n.value,onChange:s.handleInputChange},n.key)}));return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsxs)(d.a.Group,{inline:!0,children:[Object(H.jsx)("label",{children:n}),c]}),Object(H.jsx)(fe,{force:i})]})}},{key:"renderInput",value:function(){return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(b.a,{as:"h2",children:"Input"}),Object(H.jsxs)(d.a,{children:[this.renderField("width",this.state.width,"Shed Width (m)",null),this.renderField("length",this.state.length,"Shed Length (m)",null),this.renderSelect("slabThickness",this.state.slabThickness,"Slab Thickness",oe,null),this.renderSelect("meshThickness",this.state.meshThickness,"Mesh Thickness",he,this.state.meshThicknessForce),this.renderRadios("pump",this.state.pump,"Concrete Pump",je,this.state.pumpForce),this.renderRadios("polyMembrane",this.state.polyMembrane,"Poly Membrane",me,null),this.renderRadios("machineHire",this.state.machineHire,F.label,F.optList,null),this.renderField("rock",this.state.rock,Object(H.jsxs)("label",{children:["Rock ",A]}),this.state.rockForce)]})]})}},{key:"renderOutput",value:function(){var e=this.getArea(),t=this.getVolume(),n=this.getTotal(),r=n.items.map((function(e){return Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.Cell,{textAlign:"right",children:e.item}),Object(H.jsx)(m.a.Cell,{children:Oe(e.cost)})]},e.item)}));return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(b.a,{as:"h2",children:"Output"}),Object(H.jsxs)("p",{children:["Area = ",e.toFixed(2),"m",Object(H.jsx)("sup",{children:"2"})]}),Object(H.jsxs)("p",{children:["Volume = ",t.toFixed(2),"m",Object(H.jsx)("sup",{children:"3"})]}),Object(H.jsx)(b.a,{as:"h3",children:"Itemised Prices"}),Object(H.jsxs)(m.a,{unstackable:!0,celled:!0,children:[Object(H.jsx)(m.a.Header,{children:Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.HeaderCell,{children:"Item"}),Object(H.jsx)(m.a.HeaderCell,{collapsing:!0,children:"Price"})]})}),Object(H.jsx)(m.a.Body,{children:r}),Object(H.jsx)(m.a.Footer,{children:Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.HeaderCell,{textAlign:"right",children:Object(H.jsx)("b",{children:"Total"})}),Object(H.jsx)(m.a.HeaderCell,{textAlign:"right",children:Object(H.jsx)("b",{children:Oe(n.total)})})]})})]})]})}},{key:"renderConfigExtra",value:function(e,t,n,r){return"ea"===n?t=Oe(t):"m2"===n?t=Object(H.jsxs)(a.Fragment,{children:[Oe(t)," ",M]}):"m3"===n&&(t=Object(H.jsxs)(a.Fragment,{children:[Oe(t)," ",A]})),Object(H.jsxs)(m.a.Row,{active:r,children:[Object(H.jsx)(m.a.Cell,{children:e}),Object(H.jsx)(m.a.Cell,{children:t})]},e)}},{key:"renderRatesTable",value:function(e,t,n,r){var i=function(e,t){var n=null;return e.map((function(r){var i=n;return n=r,1===e.length?Object(H.jsx)(a.Fragment,{children:"Any amount"}):null===i?Object(H.jsxs)(a.Fragment,{children:["Less than ",r.limit,t]}):null===r.limit?Object(H.jsxs)(a.Fragment,{children:["Over ",i.limit,t]}):Object(H.jsxs)(a.Fragment,{children:[i.limit,t," to ",r.limit,t]})}))}(n,t),s=n.map((function(e,t){var n=i[t],a=e===r;return Object(H.jsxs)(m.a.Row,{active:a,children:[Object(H.jsx)(m.a.Cell,{children:n}),Object(H.jsx)(m.a.Cell,{children:Oe(e.rate)})]},e.key)}));return Object(H.jsxs)(m.a,{celled:!0,unstackable:!0,children:[Object(H.jsx)(m.a.Header,{children:Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.HeaderCell,{children:e}),Object(H.jsxs)(m.a.HeaderCell,{children:["Rate per ",t]})]})}),Object(H.jsx)(m.a.Body,{children:s})]})}},{key:"renderConfigInfo",value:function(){var e=this.getConfiguration(),t=this.getTotal().hasminPrice;return Object(H.jsx)(a.Fragment,{children:Object(H.jsxs)(g.a,{columns:"equal",stackable:!0,children:[Object(H.jsxs)(g.a.Column,{children:[Object(H.jsx)(b.a,{as:"h4",children:"Concrete Rates"}),this.renderRatesTable("Concrete",E,e.concreteRates,this.getCurrentRate()),Object(H.jsx)(b.a,{as:"h4",children:"Rock Rates"}),this.renderRatesTable("Rock",P,e.rock,this.getRockRate())]}),Object(H.jsxs)(g.a.Column,{children:[Object(H.jsx)(b.a,{as:"h4",children:"Extras"}),Object(H.jsxs)(m.a,{celled:!0,unstackable:!0,children:[Object(H.jsx)(m.a.Header,{children:Object(H.jsxs)(m.a.Row,{children:[Object(H.jsx)(m.a.HeaderCell,{children:"Name"}),Object(H.jsx)(m.a.HeaderCell,{children:"Amount"})]})}),Object(H.jsxs)(m.a.Body,{children:[this.renderConfigExtra("Slab Thickness 125mm",e.slabThickness125,"m2",this.state.slabThickness===ce.value),this.renderConfigExtra("Mesh Thickness SL82",e.meshThicknessSL82,"m2",this.getMeshThickness()===le.value),this.renderConfigExtra("Poly Membrane",e.polyMembraneOn,"m2",this.state.polyMembrane===be.value),this.renderConfigExtra("Pump",e.pumpOn,"ea",this.getPump()===ue.value),this.renderConfigExtra("Pump (Double)",e.pumpDouble,"ea",this.getPump()===de.value),this.renderConfigExtra(F.label,e.machineHireOn,"ea",this.state.machineHire===F.optOn.value),this.renderConfigExtra(w,e.minPrice,"ea",t)]})]})]})]})})}},{key:"renderConfigDefaultWarning",value:function(){return Object(H.jsx)(j.a,{warning:!0,icon:"warning sign",header:"Default Configuration",content:"You're using the Default Configuration. Please create or load configuration before considering the Output."})}},{key:"renderConfig",value:function(){var e=this.getConfiguration(),t=e.isDefault?this.renderConfigDefaultWarning():null;return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsxs)(b.a,{as:"h2",children:["Configuration: ",e.name]}),t,Object(H.jsx)(d.a,{children:Object(H.jsxs)(d.a.Group,{children:[Object(H.jsx)(U,{mode:"create",configuration:e,onSubmit:this.handleConfigurationChange}),Object(H.jsx)(W,{decode:X,onSubmit:this.handleConfigurationChange}),Object(H.jsx)($,{shareUrl:Z(e),disabled:e.isDefault})]})}),this.renderConfigInfo()]})}},{key:"render",value:function(){return Object(H.jsxs)(a.Fragment,{children:[Object(H.jsx)(O.a,{inverted:!0,borderless:!0,style:{borderRadius:"0"},children:Object(H.jsx)(f.a,{children:Object(H.jsxs)(O.a.Item,{header:!0,children:[Object(H.jsx)(p.a,{size:"mini",src:ae,style:{marginRight:"0.5em"}}),"Concrete App"]})})}),Object(H.jsxs)(f.a,{children:[Object(H.jsx)(g.a,{centered:!0,children:Object(H.jsx)(g.a.Row,{children:Object(H.jsxs)(g.a.Column,{mobile:16,tablet:8,computer:5,children:[this.renderInput(),Object(H.jsx)(x.a,{}),this.renderOutput()]})})}),Object(H.jsx)(x.a,{}),this.renderConfig()]}),Object(H.jsx)(se,{})]})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(H.jsx)(pe,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),console.log("concrete-app: version 7")}},[[200,1,2]]]);
//# sourceMappingURL=main.94f8fecc.chunk.js.map